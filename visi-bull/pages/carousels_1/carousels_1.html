{% extends "home.html" %}

{% block head %}
<!--Block for including page specific CSS and JS files within the <head> tag.-->
<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='carousels_1/carousels.css') }}">
<script type="text/javascript" src="{{ url_for('static', filename='scripts/jQuery/jquery-1.11.1.min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='carousels_1/standardCarousels.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='carousels_1/demos.js') }}"></script>
{% endblock %}

{% block header %}
<!--Block for including page specific header information (e.g. page title) within the <header> tag.-->
<h1 class="pageTitle">Carousels Part 1</h1>
<span class="date">December 10, 2014</span>
{% endblock %}

{% block content %}
<!--Block for including the content of the page within the div.content tag.-->
<h2>Single Item Carousels</h2>
<div>
    <div class="adj">
        <h3 class="centerText">Non-infinite Scrolling</h3>
        <svg id="Single-Non-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .isInfinite(<span class="keyword">false</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
    <div class="adj">
        <h3 class="centerText">Infinite Scrolling</h3>
        <svg id="Single-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .isInfinite(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
</div>
<br>
<h2>Multi-Item Carousels</h2>
<div>
    <div class="adj">
        <h3 class="centerText">Non-infinite Scrolling (Uneven Item Sets)</h3>
        <svg id="Multi-Non-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .isInfinite(<span class="keyword">false</span>)
    .itemsToShow(<span class="number">4</span>)
    .itemsToScrollBy(<span class="number">4</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
    <div class="adj">
        <h3 class="centerText">Infinite Scrolling</h3>
        <svg id="Multi-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .isInfinite(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">2</span>)
    .itemsToScrollBy(<span class="number">2</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
</div>
<br>
<h2>Centered Carousels</h2>
<div>
    <div class="adj">
        <h3 class="centerText">Non-infinite Scrolling</h3>
        <svg id="Center-Non-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">false</span>)
    .isCentered(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">2</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
    <div class="adj">
        <h3 class="centerText">Infinite Scrolling</h3>
        <svg id="Center-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">true</span>)
    .isCentered(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">3</span>)
    .itemsToScrollBy(<span class="number">2</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
</div>
<br>
<h2>Carousels with Non-Uniform Items</h2>
<div>
    <div class="adj">
        <h3 class="centerText">Non-infinite Scrolling</h3>
        <svg id="Var-Size-Non-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">false</span>)
    .isCentered(<span class="keyword">false</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
    <div class="adj">
        <h3 class="centerText">Infinite Scrolling</h3>
        <svg id="Var-Size-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">true</span>)
    .isCentered(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
</div>
<div>
    <div class="adj">
        <h3 class="centerText">Non-infinite Scrolling</h3>
        <svg id="Var-Shape-Non-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">false</span>)
    .isCentered(<span class="keyword">false</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
    <div class="adj">
        <h3 class="centerText">Infinite Scrolling</h3>
        <svg id="Var-Shape-Inf" />
        <pre class="code inline"><code class="javascript"><span class="keyword">var</span> svg = d3.select(...).append(<span class="string">"svg"</span>);
<span class="keyword">var</span> items = ...  <span class="comment">// Create the items.</span>
<span class="keyword">var</span> carousel = standardCarousel(items)
    ...
    .width(<span class="number">420</span>)
    .isInfinite(<span class="keyword">true</span>)
    .isCentered(<span class="keyword">true</span>)
    .itemsToShow(<span class="number">1</span>)
    .itemsToScrollBy(<span class="number">1</span>)
    ...
svg.call(carousel);</code></pre>
    </div>
</div>
<br><br><br>
<h2>Layout Schematic</h2>
<p>The basic layout of the carousel is:</p>
<svg id="schematic" style="display: block; margin: auto;" />
<script type="text/javascript" src="{{ url_for('static', filename='carousels_1/schematic.js') }}"></script>
<p>The hierarchical layout in the DOM is:</p>
<ul>
    <li>g.carousel
        <ul>
            <li>g.itemContainer (dragging operates on this)
                <ul>
                    <li>rect.backingRect</li>
                    <li>path.scrollPath</li>
                    <li>g.item</li>
                    ...
                    <li>g.item</li>
                </ul>
            </li>
            <li>g.navArrow.left (arrow navigation operates on this)
                <ul>
                    <li>rect</li>
                    <li>path</li>
                </ul>
            </li>
            <li>g.navArrow.right (arrow navigation operates on this)
                <ul>
                    <li>rect</li>
                    <li>path</li>
                </ul>
            </li>
            <li>g.navDotContainer
                <ul>
                    <li>rect</li>
                    <li>g.navDot (dot navigation operates on these)
                        <ul>
                            <li>rect</li>
                            <li>circle</li>
                        </ul>
                    </li>
                    <li>g.navDot</li>
                    ...
                    <li>g.navDot</li>
                </ul>
            </li>
        </ul>
    </li>
</ul>
<br>
<h2>Items</h2>
<p>
    The items supplied to the carousel will be moved from their current location in the DOM, so that they have the itemContainer class
    within the carousel as their parent. The items will also have a clip path added to them. This clip path is unique to each item,
    and ensures that the item is only visible within the boundaries of the carousel. The items can be of any shape, provided that the
    width and height specified for each item correctly encompasses the item.
</p>
<p>
    Each item is assigned a current position and a resting position along the scrollPath path.
    The current position determines where the item is at any given moment, while the resting position determines where the item should snap back
    to once the carousel stops moving.
    The carousel rotates by moving the items along this path, with both the current and resting positions of each item updated as the carousel moves.
</p>
<p>
    The items need four data properties to be defined by the user before they are added to the carousel:
    <ul>
        <li>height - the height of the item</li>
        <li>key - an identifier with a unique value for each item</li>
        <li>rootID - the root of the ID used to define individual clip paths (can be any string)</li>
        <li>width - the width of the item</li>
    </ul>
    <br>
    They will also get four new data properties during the process of being added to the carousel:
    <br><br>
    <ul>
        <li>distAlongPath - the distance along the scroll path of the left edge of the item</li>
        <li>resting - the distance along the path of the resting position of the item</li>
        <li>transX - the X coordinate of the top left corner of the item in relation to the top left corner of the carousel</li>
        <li>transX - the Y coordinate of the top left corner of the item in relation to the top left corner of the carousel</li>
    </ul>
</p>
<br>
<h2>Notes</h2>
<ul>
    <li>The carousel can be scrolled by dragging it, or by clicking on the navigation arrows/dots.</li>
    <li>Swipe behaviour can easily be added if needed (simply co-opt the dragging behaviour).</li>
    <li>If providing a width for the carousel, then you need to ensure that the carousel is not wide enough to accommodate all the items.</li>
    <li>
        As it stands, the items will overlap the portion of the carousel's stroke that lies inside the boundary of the carousel.
        This can be avoided by altering the items' clip paths to account for the width of this stroke.
    </li>
    <li>Any event handlers defined for the items by the user will still be active while the item is in the carousel.</li>
    <li>
        With centered items, it's best to manually define the carousel width, as otherwise the automatic width calculated makes it
        difficult to tell that the items are centered.
    </li>
    <li>
        Navigation arrows can be altered to take any desired shape or style after the carousel is created, but if the navArrowWidth and/or
        navArrowHeight don't fully contain the new shape, then clicking on it will be more fiddly.
    </li>
    <li>
        Navigation dots can be altered to take any desired shape or style after the carousel is created, but if the navDotRadius doesn't fully
        contain the new shape, then clicking on it will be more fiddly.
    </li>
</ul>
{% endblock %}